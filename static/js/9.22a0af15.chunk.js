(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[9],{241:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),s=n(236),i=(n(0),n(19)),o=n(6),a=n(2),u=["isAuth"],c=function(e){return{isAuth:e.auth.isAuth}};function l(e){return Object(i.b)(c)((function(t){var n=t.isAuth,i=Object(s.a)(t,u);return n?Object(a.jsx)(e,Object(r.a)({},i)):Object(a.jsx)(o.a,{to:"/Content/Login"})}))}},306:function(e,t,n){},307:function(e,t,n){},330:function(e,t,n){"use strict";n.r(t);var r=n(19),s=n(77),i=n(0),o=(n(306),n(57)),a=n(26),u=n(2),c=function(e){return Object(u.jsxs)("li",{className:"friends__list-item",children:[Object(u.jsxs)(a.b,{to:"/Content/Profile/"+e.user.id,children:[Object(u.jsx)("img",{src:e.user.photos.small?e.user.photos.small:o.a,alt:"avatar",className:"logo avatar"}),Object(u.jsxs)("div",{className:"list-item__description",children:[Object(u.jsx)("h2",{className:"description-login",children:e.user.name}),Object(u.jsx)("div",{className:"location"}),Object(u.jsx)("p",{className:"description-greeting",children:e.user.status})]})]}),e.user.followed?Object(u.jsx)("button",{disabled:e.followingProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollowUser(e.user.id)},className:"list-item__following",children:"Unfollow"}):Object(u.jsx)("button",{disabled:e.followingProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followUser(e.user.id)},className:"list-item__following",children:"Follow"})]})},l=(n(307),function(e){var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[];e.currentPage>1&&(n.push(1),e.currentPage>2&&(n.push(e.currentPage-2),e.currentPage>3&&n.push(e.currentPage-1)));for(var r=e.currentPage;r<=t;r++)r<9&&n.push(r);return e.currentPage>=8&&e.currentPage<t&&(8!==e.currentPage&&n.push(e.currentPage),n.push(e.currentPage+1)),e.currentPage!==t-1&&n.push(t),Object(u.jsx)("div",{className:"pagination-pages",children:n.map((function(t){return Object(u.jsx)("button",{className:e.currentPage===t?"pagination-pages__value selected":"pagination-pages__value",onClick:function(){e.setCurrentPage(t)},children:t},Math.random())}))})}),f=n(325),g=function(e){return{}},d=function(e){return Object(u.jsx)(f.c,{initialValues:{term:"",friend:null},validate:g,onSubmit:function(t,n){var r=n.setSubmitting;e.onFilterChanged(t),r(!1)},children:function(e){var t=e.isSubmitting;return Object(u.jsxs)(f.b,{className:"friends__form-search",children:[Object(u.jsx)(f.a,{type:"text",name:"term"}),Object(u.jsxs)(f.a,{name:"friend",as:"select",children:[Object(u.jsx)("option",{value:"null",children:"all"}),Object(u.jsx)("option",{value:"true",children:"My friends"}),Object(u.jsx)("option",{value:"false",children:"Not friends"})]}),Object(u.jsx)("button",{type:"submit",disabled:t,children:"Find"})]})}})},j=function(e){return Object(u.jsxs)("div",{className:"friends content__friends",children:[Object(u.jsx)(d,{onFilterChanged:e.onFilterChanged}),Object(u.jsx)(l,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:e.setCurrentPage}),Object(u.jsx)("ul",{className:"friends__list",children:e.users.map((function(t){return Object(u.jsx)(c,{user:t,followUser:e.followUser,unfollowUser:e.unfollowUser,followingProgress:e.followingProgress},t.id)}))})]})},b=n(18),h=n(241),p=n(31),P=n(326),O=Object(P.a)((function(e){return e.friendsData.users}),(function(e){return e.filter((function(e){return!0}))})),m=function(e){return e.friendsData.pageSize},x=function(e){return e.friendsData.totalUsersCount},w=function(e){return e.friendsData.currentPage},C=function(e){return e.friendsData.isFetching},U=function(e){return e.friendsData.followingProgress},v=function(e){return e.friendsData.filter};t.default=Object(p.d)(Object(r.b)((function(e){return{users:O(e),pageSize:m(e),totalUsersCount:x(e),currentPage:w(e),isFetching:C(e),followingProgress:U(e),filter:v(e)}}),{followUser:s.a,unfollowUser:s.e,setCurrentPage:s.b.setCurrentPageAC,toggleFollowingProgress:s.b.toggleFollowingProgressAC,getUsers:s.d}),h.a)((function(e){Object(i.useEffect)((function(){e.getUsers(e.currentPage,e.pageSize,e.filter)}),[]);return Object(u.jsx)("div",{children:e.isFetching?Object(u.jsx)(b.a,{}):Object(u.jsx)(j,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,setCurrentPage:function(t){e.setCurrentPage(t),e.getUsers(t,e.pageSize,e.filter)},users:e.users,followUser:e.followUser,unfollowUser:e.unfollowUser,followingProgress:e.followingProgress,onFilterChanged:function(t){e.getUsers(1,e.pageSize,t)}})})}))}}]);
//# sourceMappingURL=9.22a0af15.chunk.js.map